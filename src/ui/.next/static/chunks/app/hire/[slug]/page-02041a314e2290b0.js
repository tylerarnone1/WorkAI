(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},3327:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(5155),a=s(4486),n=s(2115),i=s(296),l=s(4416),d=s(9686),o=s(3127);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:s}=e,a=(0,n.useId)(),i=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,n.useContext)(o.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n}=l.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=a;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[s]),(0,r.jsx)(c,{isPresent:s,childRef:i,sizeRef:l,children:n.cloneElement(t,{ref:i})})}let m=e=>{let{children:t,initial:s,isPresent:a,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:m}=e,h=(0,l.M)(x),p=(0,n.useId)(),f=(0,n.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;i&&i()},[h,i]),g=(0,n.useMemo)(()=>({id:p,initial:s,isPresent:a,custom:o,onExitComplete:f,register:e=>(h.set(e,!1),()=>h.delete(e))}),c?[Math.random(),f]:[a,f]);return(0,n.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[a]),n.useEffect(()=>{a||h.size||!i||i()},[a]),"popLayout"===m&&(t=(0,r.jsx)(u,{isPresent:a,children:t})),(0,r.jsx)(d.t.Provider,{value:g,children:t})};function x(){return new Map}var h=s(5601);let p=e=>e.key||"";function f(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var g=s(6553);let y=e=>{let{children:t,custom:s,initial:a=!0,onExitComplete:d,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1}=e,[x,y]=(0,h.xQ)(u),j=(0,n.useMemo)(()=>f(t),[t]),b=u&&!x?[]:j.map(p),v=(0,n.useRef)(!0),N=(0,n.useRef)(j),w=(0,l.M)(()=>new Map),[P,k]=(0,n.useState)(j),[E,S]=(0,n.useState)(j);(0,g.E)(()=>{v.current=!1,N.current=j;for(let e=0;e<E.length;e++){let t=p(E[e]);b.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[E,b.length,b.join("-")]);let C=[];if(j!==P){let e=[...j];for(let t=0;t<E.length;t++){let s=E[t],r=p(s);b.includes(r)||(e.splice(t,0,s),C.push(s))}"wait"===c&&C.length&&(e=C),S(f(e)),k(j);return}let{forceRender:R}=(0,n.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:E.map(e=>{let t=p(e),n=(!u||!!x)&&(j===E||b.includes(t));return(0,r.jsx)(m,{isPresent:n,initial:(!v.current||!!a)&&void 0,custom:n?void 0:s,presenceAffectsLayout:o,mode:c,onExitComplete:n?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),S(N.current),u&&(null==y||y()),d&&d())},children:e},t)})})};var j=s(2619),b=s.n(j),v=s(63),N=s(6489);function w(e){let{resume:t,onHire:s,isHiring:i}=e,[l,d]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"h-full flex flex-col p-6 rounded-2xl bg-card border border-border hover:border-primary/50 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-bold mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-primary font-medium",children:t.backgroundName}),(0,r.jsx)("p",{className:"text-xs text-muted mt-1",children:t.backgroundDescription})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.personality.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-primary/10 text-primary border border-primary/20",children:e},e))})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-4 mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-muted leading-relaxed",children:t.summary}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-foreground/70 mb-2 uppercase tracking-wide",children:"Key Skills"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.skills.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded bg-card-hover text-muted",children:e},e))})]}),(0,r.jsxs)("button",{onClick:()=>d(!l),className:"text-sm text-primary hover:text-primary/80 transition-colors flex items-center gap-1",children:[(0,r.jsxs)("span",{children:[l?"Less":"More"," details"]}),(0,r.jsx)(a.P.span,{animate:{rotate:180*!!l},transition:{duration:.2},children:"↓"})]}),(0,r.jsx)(y,{children:l&&(0,r.jsx)(a.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:(0,r.jsxs)("div",{className:"pt-4 space-y-4 border-t border-border",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-foreground/70 mb-3 uppercase tracking-wide",children:"Experience"}),(0,r.jsx)("div",{className:"space-y-3",children:t.experience.map((e,t)=>(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-muted",children:[e.company," • ",e.duration]})]}),(0,r.jsx)("ul",{className:"space-y-1 ml-3",children:e.highlights.map((e,t)=>(0,r.jsx)("li",{className:"text-xs text-muted list-disc list-inside",children:e},t))})]},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-semibold text-foreground/70 mb-2 uppercase tracking-wide",children:"Working Style"}),(0,r.jsx)("p",{className:"text-xs text-muted leading-relaxed",children:t.workingStyle})]})]})})})]}),(0,r.jsx)("button",{onClick:()=>s(t.id),disabled:i,className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-semibold text-sm hover:scale-105 transition-transform duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Hiring..."]}):"Hire This Candidate"})]})}function P(e){return new Promise(t=>setTimeout(t,e))}function k(){let e=(0,v.useParams)(),t=(0,v.useRouter)(),s=e.slug,[i,l]=(0,n.useState)([]),[d,o]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),[m,x]=(0,n.useState)("idle"),[h,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(null),j=(0,n.useMemo)(()=>{var e;return null!=(e=i.find(e=>e.id===c))?e:null},[i,c]);(0,n.useEffect)(()=>{!async function(){try{let e=await fetch("/api/resumes/generate?role=".concat(s)),t=await e.json();l(Array.isArray(t.resumes)?t.resumes:[])}catch(e){console.error("Failed to load resumes:",e),g("Unable to load candidates right now. Please refresh.")}finally{o(!1)}}()},[s]);let k=async e=>{if(!h){u(e),g(null);try{if(await (0,N.getSession)()){let e=await fetch("/api/agents",{cache:"no-store"}),{agents:t}=await e.json();if(Array.isArray(t)&&t.length>=1){window.location.href="/checkout";return}}let r=i.find(t=>t.id===e);if(!r)throw Error("Selected candidate could not be found.");p(!0),x("drop"),await P(520),x("center"),await P(850),x("launch");let a={roleSlug:s,resume:r,capturedAt:new Date().toISOString()};sessionStorage.setItem("ai_employee_pending_hire",JSON.stringify(a)),await P(980),t.push("/onboarding")}catch(e){console.error("Error starting hire flow:",e),g(e instanceof Error?e.message:"Failed to start onboarding."),p(!1),x("idle"),u(null)}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},S={visible:{transition:{staggerChildren:.15}}};return(0,r.jsxs)("main",{className:"min-h-screen overflow-hidden p-8",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsxs)(a.P.div,{initial:"hidden",animate:"visible",variants:S,className:"space-y-8",children:[(0,r.jsxs)(a.P.div,{variants:E,className:"space-y-4",children:[(0,r.jsxs)(b(),{href:"/hire",className:"inline-block text-sm text-muted hover:text-foreground transition-colors",children:["<-"," Back to roles"]}),(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:[{"seo-engineer":"SEO Engineer","backend-engineer":"Backend Engineer","frontend-engineer":"Frontend Engineer","project-manager":"Project Manager","operations-manager":"Operations Manager"}[s]||"Role"," ",(0,r.jsx)("span",{className:"text-gradient",children:"Candidates"})]}),(0,r.jsx)("p",{className:"text-lg text-muted max-w-2xl",children:"Pick one teammate to launch first. We will animate the handoff and bring you into setup."})]}),d&&(0,r.jsx)(a.P.div,{variants:E,className:"flex items-center justify-center py-20",children:(0,r.jsxs)("div",{className:"space-y-4 text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),(0,r.jsx)("p",{className:"text-muted",children:"Generating AI candidates..."})]})}),!d&&(0,r.jsx)(a.P.div,{variants:S,className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:i.map((e,t)=>{let s=c===e.id,n=null!==c&&!s;return(0,r.jsx)(a.P.div,{variants:E,animate:n&&h?{opacity:0,y:780,rotate:0===t?-8:8,scale:.92}:s&&h&&"idle"!==m?{opacity:0,scale:.95}:{opacity:1,y:0,rotate:0,scale:1,x:0},transition:{duration:n&&h?.6:.35,ease:n&&h?"easeIn":"easeOut"},style:{zIndex:s?20:1},children:(0,r.jsx)(a.P.div,{animate:s&&"center"===m?{x:0===t?220:2===t?-220:0,scale:1.04}:{x:0,scale:1},transition:{duration:.5,ease:"easeOut"},children:(0,r.jsx)(w,{resume:e,onHire:k,isHiring:c===e.id})})},e.id)})}),!d&&(0,r.jsx)(a.P.div,{variants:E,className:"p-6 rounded-xl bg-card border border-border text-center",children:(0,r.jsx)("p",{className:"text-sm text-muted",children:"Candidates are generated with OpenAI and tuned for role-specific backgrounds and work styles."})}),f?(0,r.jsx)(a.P.p,{variants:E,className:"rounded-lg border border-red-500/30 bg-red-500/10 p-3 text-sm text-red-300",children:f}):null]})}),(0,r.jsx)(y,{children:j&&h&&"drop"!==m?(0,r.jsx)(a.P.div,{className:"pointer-events-none fixed inset-0 z-50 flex items-center justify-center px-4",initial:{opacity:0,y:40,scale:.9},animate:"center"===m?{opacity:1,y:0,scale:1.08,rotate:0}:{opacity:1,y:-980,scale:.64,rotate:-8},exit:{opacity:0},transition:{duration:"center"===m?.7:1.05,ease:"center"===m?"easeOut":"easeIn"},children:(0,r.jsxs)("div",{className:"relative w-full max-w-2xl",children:["launch"===m?(0,r.jsx)(a.P.div,{className:"absolute left-1/2 top-[calc(100%+12px)] h-24 w-20 -translate-x-1/2 rounded-full bg-gradient-to-b from-accent/80 via-orange-400/70 to-yellow-300/10 blur-md",animate:{scaleY:[1,1.3,.9,1.2],opacity:[.9,1,.8,.95]},transition:{duration:.2,repeat:1/0,ease:"easeInOut"}}):null,(0,r.jsx)("div",{className:"rounded-3xl border border-primary/50 shadow-2xl shadow-primary/30",children:(0,r.jsx)(w,{resume:j,onHire:()=>void 0,isHiring:!0})})]})},j.id):null})]})}},4671:(e,t,s)=>{Promise.resolve().then(s.bind(s,3327))}},e=>{e.O(0,[486,619,489,441,255,358],()=>e(e.s=4671)),_N_E=e.O()}]);